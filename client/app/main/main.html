<div ng-include="'components/navbar/navbar.html'"></div>
<header class="hero-unit" id="banner">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                 <h1 class="" style="color: rgb(101, 129, 170);">Watchlist</h1>

                <p class="lead  italic" style="color: rgb(90, 90, 90);">modify your list of shows to track</p>
            </div>
            <div class="col-md-6">
                <!--<img src="assets/images/chaika.png" alt="eyebrows" class="img256">-->
            </div>
        </div>
        <div class='row text-left'>
        <!-- Input field for new shows -->
            <form class="show-form" >
                <div class="form-group has-feedback">
                    <!--<label for="addshow">Add new series</label>-->
                    <div class="input-group" class="col-md-6">
                        <input id="addshow" type="text"
                            class="form-control"
                            placeholder="Search for series"
                            ng-model="newShow"
                            typeahead="tvdbshow as tvdbshow.SeriesName for tvdbshow in getTVDBShows($viewValue)"
                            typeahead-loading="loadingShows"
                            typeahead-min-length="4"
                            typeahead-wait-ms="750"
                            style="background-color: rgba(255, 255, 255, 0.7);"/>
                        <span class="input-group-btn">
                            <button type="submit" class="btn btn-primary" ng-click="addShow()" ng-disabled="!(newShow.SeriesName)">
                                <strong>Add Show</strong>
                            </button>
                        </span>
                    </div>
                    <span ng-show="loadingShows">
                        <span class="fa fa-spinner fa-spin form-control-feedback" style="color: black;right: 91px;z-index: 100; top: 0px;font-size: 1.3em;"></span>
                        <span class="form-control-feedback" style="color: rgba(0, 0, 0, 0.3);right: 170px;z-index: 100; top: 0px;font-size: 1.3em;">Searching</span>
                    </span>
                </div>
            </form>
            
            
            <!--Details of searched show-->
            <div ng-show="newShow.SeriesName" class="col-md-6">
                <div class="row">
                    <div class="col-md-6 series-name" tooltip-position="top" tooltip-popup-delay="1000" tooltip="{{newShow.id}}">{{newShow.SeriesName}}</div>
                    <div class="col-md-6 first-aired">[{{newShow.Network}}] {{newShow.FirstAired}}</div>
                </div>
                <img ng-src="{{(newShow && newShow.banner) && 'http://thetvdb.com/banners/'+newShow.banner || ''}}" style="width:100%;">
                <h4>Description:</h4>
                <p class="text-justify">{{newShow.Overview}}</p>
                <p>Episodes: {{showDetail.Episodes.length}} ({{showDetail.Status}})</p>
            </div>
            <div ng-show="newShow.SeriesName" id='placeholder' class="col-md-6">
                <p><h4>Genre:</h4><span ng-repeat="genre in genres"> <span class="label label-default">{{genre}}</span></span></p>
                <p><h4>Rating:</h4><rating ng-model="showDetail.Rating" max="10" readonly="true"></rating></p>
                <img class="boxShadow" ng-src="{{showDetail.fanart && 'http://thetvdb.com/banners/'+showDetail.fanart || ''}}" style="width:100%;">

            </div>
            <!--<div ng-show="showDetail.id" class="col-md-12">-->
            <!--    <pre>{{showDetail | json}}</pre>-->
            <!--</div>-->
        </div>
    </div>
</header>
<div class="container">
    <!-- Add show -->

    <!-- Display current list -->
    <div class="row">
        <div class="col-lg-12">
             <h1 class="page-header">Shows:</h1>

            <ul class="show-box nav nav-tabs nav-stacked col-md-6 col-lg-6 col-sm-12" ng-repeat="show in shows">
                <li>
                    <div class="row">
                        <div class="col-md-2">
                            <img src="http://i.imgur.com/IHdgTBS.png" class="show-thumb" />
                        </div>
                        <div class="col-md-10">
                            <div class="row">
                                <div class="show-title col-md-6">
                                    <a href="#" tooltip="{{show.info}}">{{show.SeriesName}}</a>
                                </div>
                                <div class="show-date col-md-6 text-right">{{show.FirstAired | date : 'MMMM yyyy'}}</div>
                            </div>
                            <hr class="show-hr" />
                            <div class="row">
                                <div class="show-episodes col-md-6">Episodes: {{show.Episodes.length}}</div>
                                <div class="show-status col-md-6">Status: {{show.Status}}</div>
                            </div>
                            <p></p>
                            <div class="show-overview">{{show.Overview | limitTo : 350 }}<span ng-show="show.Overview.length > 350">&hellip;</span></div>
                            <button type="button" class="close" ng-click="deleteShow(show)"><i class="glyphicon glyphicon-trash"></i>

                            </button>
                        </div>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>
<footer class="footer">
    <div class="container">
        <p>Created by
            <a href="https://twitter.com/kariudo">@kariudo</a> | All rights reserved.</p>
    </div>
</footer>