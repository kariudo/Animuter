'use strict';

var _ = require('lodash');
var Torrent = require('./torrent.model');
var NT = require("nyaatorrents");

// Get list of torrents
exports.index = function(req, res) {
  Torrent.find(function (err, torrents) {
    if(err) { return handleError(res, err); }
    return res.json(200, torrents);
  });
};

// Get a single torrent
exports.show = function(req, res) {
  Torrent.findById(req.params.id, function (err, torrent) {
    if(err) { return handleError(res, err); }
    if(!torrent) { return res.send(404); }
    return res.json(torrent);
  });
};

// Search Nyaa torrents that match :name.
exports.find = function(req, res) {
  //return res.json(bigObject);

  var nt = new NT("http://www.nyaa.eu"),
      term = req.params.name,
      options = {
        category: "enAnime",
        filter: "trusted"
      };

  nt.search(term, options, function(err, entries) {
    if (err) {
      return console.warn(err);
    }
    //console.log(entries);
    var fs = require('fs');
    fs.writeFile("/tmp/testData.json", JSON.stringify(entries), function(err) {
      if(err) {
        console.log(err);
      } else {
        console.log("Saved JSON object entries to file.");
      }
    });
    var result = {
      term: req.params.name,
      count: entries.length,
      results: entries
    }
    // Respond without using express, there is an issue that is causing double output on large objects.
    res.writeHead(200, { 'Content-Type': 'application/json'});
    res.write(JSON.stringify(result));
    return res.end();
  });
};

// Creates a new torrent in the DB.
exports.create = function(req, res) {
  Torrent.create(req.body, function(err, torrent) {
    if(err) { return handleError(res, err); }
    return res.json(201, torrent);
  });
};

// Updates an existing torrent in the DB.
exports.update = function(req, res) {
  if(req.body._id) { delete req.body._id; }
  Torrent.findById(req.params.id, function (err, torrent) {
    if (err) { return handleError(res, err); }
    if(!torrent) { return res.send(404); }
    var updated = _.merge(torrent, req.body);
    updated.save(function (err) {
      if (err) { return handleError(res, err); }
      return res.json(200, torrent);
    });
  });
};

// Deletes a torrent from the DB.
exports.destroy = function(req, res) {
  Torrent.findById(req.params.id, function (err, torrent) {
    if(err) { return handleError(res, err); }
    if(!torrent) { return res.send(404); }
    torrent.remove(function(err) {
      if(err) { return handleError(res, err); }
      return res.send(204);
    });
  });
};

function handleError(res, err) {
  return res.send(500, err);
}


var bigObject = [ { id: 641332,
  href: 'http://www.nyaa.se/?page=download&tid=641332',
  name: '[Ñ] Shigatsu wa Kimi no Uso - 11 [720p] [2E5C72E8].mkv',
  categories: [ 'anime', 'non-english-translated-anime' ],
  flags: [],
  size: 292880800,
  seeds: 2,
  leeches: 0,
  downloads: 162,
  comments: 0 },
  { id: 641251,
    href: 'http://www.nyaa.se/?page=download&tid=641251',
    name: '[YYDM-11FANS][Kyousougiga][BDRIP][全][X264-10bit_AAC][720P]',
    categories: [ 'anime', 'raw-anime' ],
    flags: [],
    size: 5982180000,
    seeds: 113,
    leeches: 195,
    downloads: 5133,
    comments: 0 },
  { id: 641234,
    href: 'http://www.nyaa.se/?page=download&tid=641234',
    name: '武装少女マキャヴェリズム 第01巻 [Busou Shoujo Machiavellianism vol 01]',
    categories: [ 'literature', 'raw-literature' ],
    flags: [],
    size: 272425300,
    seeds: 79,
    leeches: 17,
    downloads: 2262,
    comments: 0 },
  { id: 640992,
    href: 'http://www.nyaa.se/?page=download&tid=640992',
    name: '武装少女マキャヴェリズム 第01巻 [Busou Shoujo Machiavellianism vol 01]',
    categories: [ 'literature', 'raw-literature' ],
    flags: [],
    size: 272425300,
    seeds: 53,
    leeches: 12,
    downloads: 1847,
    comments: 0 },
  { id: 640881,
    href: 'http://www.nyaa.se/?page=download&tid=640881',
    name: '[Novel] 逃奏劇リアクターズ 第01巻 [Tousougeki Reactor vol 01]',
    categories: [ 'literature', 'raw-literature' ],
    flags: [],
    size: 167630200,
    seeds: 17,
    leeches: 6,
    downloads: 929,
    comments: 0 },
  { id: 640864,
    href: 'http://www.nyaa.se/?page=download&tid=640864',
    name: '[Novel] 逃奏劇リアクターズ 第01巻 [Tousougeki Reactor vol 01]',
    categories: [ 'literature', 'raw-literature' ],
    flags: [],
    size: 167630200,
    seeds: 9,
    leeches: 10,
    downloads: 768,
    comments: 0 },
  { id: 640118,
    href: 'http://www.nyaa.se/?page=download&tid=640118',
    name: '[Aozora] Kono Aozora ni Yakusoku wo [sub Ita]',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 2899800000,
    seeds: 4,
    leeches: 0,
    downloads: 3869,
    comments: 0 },
  { id: 639888,
    href: 'http://www.nyaa.se/?page=download&tid=639888',
    name: '[usotsuki] Detective Conan 461,469-470 [RAW-720p]',
    categories: [ 'anime', 'raw-anime' ],
    flags: [ 'trusted' ],
    size: 1890240000,
    seeds: 3,
    leeches: 2,
    downloads: 293,
    comments: 4 },
  { id: 639456,
    href: 'http://www.nyaa.se/?page=download&tid=639456',
    name: '[usotsuki] Detective Conan 457 \'Sonoko no akai hankachi (zempen)\' [RAW-720p][282A59A5].mp4',
    categories: [ 'anime', 'raw-anime' ],
    flags: [ 'trusted' ],
    size: 539395800,
    seeds: 4,
    leeches: 2,
    downloads: 358,
    comments: 8 },
  { id: 639259,
    href: 'http://www.nyaa.se/?page=download&tid=639259',
    name: '[usotsuki] Detective Conan 453-456 [RAW-720p]',
    categories: [ 'anime', 'raw-anime' ],
    flags: [ 'trusted' ],
    size: 1707660000,
    seeds: 4,
    leeches: 7,
    downloads: 336,
    comments: 1 },
  { id: 639246,
    href: 'http://www.nyaa.se/?page=download&tid=639246',
    name: '[Timecraft] Shigatsu wa Kimi no Uso - 11 [720p] [RUS Softsub]',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 327812500,
    seeds: 2,
    leeches: 0,
    downloads: 134,
    comments: 0 },
  { id: 638953,
    href: 'http://www.nyaa.se/?page=download&tid=638953',
    name: '[AoT] Shigatsu wa Kimi no Uso - 11 [480p] [Spanish sub]',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 105004900,
    seeds: 3,
    leeches: 0,
    downloads: 80,
    comments: 0 },
  { id: 638952,
    href: 'http://www.nyaa.se/?page=download&tid=638952',
    name: '[AoT] Shigatsu wa Kimi no Uso - 11 [720p] [Spanish sub]',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 315014700,
    seeds: 3,
    leeches: 0,
    downloads: 117,
    comments: 0 },
  { id: 638463,
    href: 'http://www.nyaa.se/?page=download&tid=638463',
    name: '[AnimeRG] Shigatsu wa Kimi no Uso 31 You\'ll Do [NR].pdf',
    categories: [ 'literature', 'english-translated-literature' ],
    flags: [],
    size: 31994500,
    seeds: 1,
    leeches: 2,
    downloads: 333,
    comments: 0 },
  { id: 638298,
    href: 'http://www.nyaa.se/?page=download&tid=638298',
    name: '[Akiba]_Touhou_Musou_Kakyou_A_Summer_Day\'s_Dream_[DVD-480p_Hi10P_AAC][Ger-Sub]',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 217667500,
    seeds: 2,
    leeches: 0,
    downloads: 264,
    comments: 0 },
  { id: 638030,
    href: 'http://www.nyaa.se/?page=download&tid=638030',
    name: '[PS2] 8 Redump ISOs (Request filled for anonymous + Shin Sangoku Musou 5 Special Disc2 for all)',
    categories: [ 'software', 'games' ],
    flags: [],
    size: 14144580000,
    seeds: 3,
    leeches: 5,
    downloads: 534,
    comments: 5 },
  { id: 637783,
    href: 'http://www.nyaa.se/?page=download&tid=637783',
    name: '[aprm-Diogo4D] Shigatsu wa Kimi no Uso 11 [238DE581].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 233507400,
    seeds: 2,
    leeches: 0,
    downloads: 332,
    comments: 0 },
  { id: 637768,
    href: 'http://www.nyaa.se/?page=download&tid=637768',
    name: '[AnimeRG] Shigatsu wa Kimi no Uso Ch.030 Intruder [NR].pdf',
    categories: [ 'literature', 'english-translated-literature' ],
    flags: [],
    size: 33777800,
    seeds: 0,
    leeches: 1,
    downloads: 315,
    comments: 0 },
  { id: 637693,
    href: 'http://www.nyaa.se/?page=download&tid=637693',
    name: '[Zensub&Aiasub] Shigatsu wa Kimi no Uso - 08 [1549D6E7].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 166266500,
    seeds: 0,
    leeches: 1,
    downloads: 159,
    comments: 0 },
  { id: 637611,
    href: 'http://www.nyaa.se/?page=download&tid=637611',
    name: '[A&A] Shigatsu wa Kimi no Uso - episodi MKV 01-11 (Jap sub Ita)',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 2953500000,
    seeds: 3,
    leeches: 2,
    downloads: 190,
    comments: 0 },
  { id: 637610,
    href: 'http://www.nyaa.se/?page=download&tid=637610',
    name: '[A&A] Shigatsu wa Kimi no Uso - episodi MP4 01-11 (Jap sub Ita)',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 2448720000,
    seeds: 2,
    leeches: 0,
    downloads: 242,
    comments: 0 },
  { id: 637605,
    href: 'http://www.nyaa.se/?page=download&tid=637605',
    name: '[A&A] Shigatsu wa Kimi no Uso - Ep. 11 - Luce interiore (Jap sub Ita).mp4',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 165007700,
    seeds: 0,
    leeches: 0,
    downloads: 136,
    comments: 0 },
  { id: 637604,
    href: 'http://www.nyaa.se/?page=download&tid=637604',
    name: '[A&A] Shigatsu wa Kimi no Uso - Ep. 11 - Luce interiore (Jap sub Ita).mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 213891100,
    seeds: 3,
    leeches: 0,
    downloads: 132,
    comments: 0 },
  { id: 637589,
    href: 'http://www.nyaa.se/?page=download&tid=637589',
    name: '[Kuusou] Inou Battle wa Nichijou-kei no Naka de - 12 [A89B561B].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 240640600,
    seeds: 47,
    leeches: 0,
    downloads: 2187,
    comments: 4 },
  { id: 637564,
    href: 'http://www.nyaa.se/?page=download&tid=637564',
    name: '[RAW-Hunter] Shigatsu wa Kimi no Uso - 11 [CR 720p x264 AAC].mkv',
    categories: [ 'anime', 'raw-anime' ],
    flags: [],
    size: 327602700,
    seeds: 1,
    leeches: 0,
    downloads: 400,
    comments: 0 },
  { id: 636899,
    href: 'http://www.nyaa.se/?page=download&tid=636899',
    name: '[DeadFish] Shigatsu wa Kimi no Uso - 11 [720p][AAC].mp4',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'remake' ],
    size: 215359700,
    seeds: 25,
    leeches: 1,
    downloads: 2422,
    comments: 1 },
  { id: 636895,
    href: 'http://www.nyaa.se/?page=download&tid=636895',
    name: '[Scales] Shigatsu wa Kimi no Uso - 11 [BB435442].mp4',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'remake' ],
    size: 134691600,
    seeds: 1,
    leeches: 0,
    downloads: 150,
    comments: 0 },
  { id: 636894,
    href: 'http://www.nyaa.se/?page=download&tid=636894',
    name: '[RightShiftBy2] Shigatsu wa Kimi no Uso - 11 [720p][F3653BF0].mp4',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'remake' ],
    size: 225220300,
    seeds: 4,
    leeches: 1,
    downloads: 138,
    comments: 0 },
  { id: 636891,
    href: 'http://www.nyaa.se/?page=download&tid=636891',
    name: '[Tenkai] Shigatsu wa Kimi no Uso - 11 [720p HEVC].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [],
    size: 165637100,
    seeds: 1,
    leeches: 0,
    downloads: 167,
    comments: 0 },
  { id: 636876,
    href: 'http://www.nyaa.se/?page=download&tid=636876',
    name: '[Commie] Shigatsu wa Kimi no Uso - 11 [A970AD0F].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'aplus' ],
    size: 217562600,
    seeds: 128,
    leeches: 4,
    downloads: 8390,
    comments: 6 },
  { id: 636846,
    href: 'http://www.nyaa.se/?page=download&tid=636846',
    name: '嘘喰い (Usogui) 第35巻',
    categories: [ 'literature', 'raw-literature' ],
    flags: [],
    size: 204030500,
    seeds: 13,
    leeches: 0,
    downloads: 2149,
    comments: 0 },
  { id: 636743,
    href: 'http://www.nyaa.se/?page=download&tid=636743',
    name: '[A-GX] Shigatsu wa Kimi no Uso - 11 [13884F85].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 329386000,
    seeds: 5,
    leeches: 0,
    downloads: 211,
    comments: 0 },
  { id: 636675,
    href: 'http://www.nyaa.se/?page=download&tid=636675',
    name: '[Akindo-SSK] Shigatsu wa Kimi no Uso - 11 [TV][720p][Sub_ITA][80CA6392].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 330539900,
    seeds: 25,
    leeches: 1,
    downloads: 547,
    comments: 0 },
  { id: 636272,
    href: 'http://www.nyaa.se/?page=download&tid=636272',
    name: 'Shigatsu wa Kimi no Uso - 11 (1280x720 HEVC AAC).mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'remake' ],
    size: 209485300,
    seeds: 1,
    leeches: 0,
    downloads: 218,
    comments: 0 },
  { id: 636225,
    href: 'http://www.nyaa.se/?page=download&tid=636225',
    name: '嘘喰い 第35巻 [Usogui vol 35]',
    categories: [ 'literature', 'raw-literature' ],
    flags: [],
    size: 198051200,
    seeds: 12,
    leeches: 0,
    downloads: 3714,
    comments: 0 },
  { id: 636202,
    href: 'http://www.nyaa.se/?page=download&tid=636202',
    name: '[AnimeRG] Bleach 610 Mausoleum of Skulls [NR].pdf',
    categories: [ 'literature', 'english-translated-literature' ],
    flags: [],
    size: 13112500,
    seeds: 0,
    leeches: 0,
    downloads: 345,
    comments: 0 },
  { id: 636145,
    href: 'http://www.nyaa.se/?page=download&tid=636145',
    name: '嘘喰い 第35巻 [Usogui vol 35]',
    categories: [ 'literature', 'raw-literature' ],
    flags: [],
    size: 198051200,
    seeds: 11,
    leeches: 2,
    downloads: 3265,
    comments: 0 },
  { id: 636050,
    href: 'http://www.nyaa.se/?page=download&tid=636050',
    name: '[Zero-Raws] Shigatsu wa Kimi no Uso - 11 (CX 1280x720 x264 AAC).mp4',
    categories: [ 'anime', 'raw-anime' ],
    flags: [ 'trusted' ],
    size: 278194800,
    seeds: 20,
    leeches: 3,
    downloads: 7402,
    comments: 0 },
  { id: 636047,
    href: 'http://www.nyaa.se/?page=download&tid=636047',
    name: '[Timecraft] Shigatsu wa Kimi no Uso - 10 [720p] [RUS Softsub]',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 327707600,
    seeds: 1,
    leeches: 0,
    downloads: 171,
    comments: 0 },
  { id: 636045,
    href: 'http://www.nyaa.se/?page=download&tid=636045',
    name: '[Timecraft] Shigatsu wa Kimi no Uso - 09 [720p] [RUS Softsub]',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 328022300,
    seeds: 1,
    leeches: 0,
    downloads: 158,
    comments: 0 },
  { id: 636026,
    href: 'http://www.nyaa.se/?page=download&tid=636026',
    name: '[BakedFish] Shigatsu wa Kimi no Uso - 11 [720p][AAC].mp4',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'remake' ],
    size: 191757200,
    seeds: 7,
    leeches: 2,
    downloads: 1227,
    comments: 0 },
  { id: 636001,
    href: 'http://www.nyaa.se/?page=download&tid=636001',
    name: '[HorribleSubs] Shigatsu wa Kimi no Uso - 11 [1080p].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 549361300,
    seeds: 151,
    leeches: 3,
    downloads: 11062,
    comments: 0 },
  { id: 635997,
    href: 'http://www.nyaa.se/?page=download&tid=635997',
    name: '[PuyaSubs!] Shigatsu wa Kimi no Uso - 11 [720p][0EEFD62D].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 327707600,
    seeds: 22,
    leeches: 0,
    downloads: 2621,
    comments: 1 },
  { id: 635996,
    href: 'http://www.nyaa.se/?page=download&tid=635996',
    name: '[Zero-Raws] Shigatsu wa Kimi no Uso - 10 (CX 1280x720 x264 AAC).mp4',
    categories: [ 'anime', 'raw-anime' ],
    flags: [ 'trusted' ],
    size: 287635800,
    seeds: 19,
    leeches: 2,
    downloads: 4192,
    comments: 0 },
  { id: 635995,
    href: 'http://www.nyaa.se/?page=download&tid=635995',
    name: '[HorribleSubs] Shigatsu wa Kimi no Uso - 11 [720p].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 327812500,
    seeds: 401,
    leeches: 13,
    downloads: 25694,
    comments: 6 },
  { id: 635993,
    href: 'http://www.nyaa.se/?page=download&tid=635993',
    name: '[HorribleSubs] Shigatsu wa Kimi no Uso - 11 [480p].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 149167800,
    seeds: 82,
    leeches: 4,
    downloads: 8073,
    comments: 0 },
  { id: 635961,
    href: 'http://www.nyaa.se/?page=download&tid=635961',
    name: '[Ohys-Raws] Shigatsu wa Kimi no Uso - 11 (CX 1280x720 x264 AAC).mp4',
    categories: [ 'anime', 'raw-anime' ],
    flags: [],
    size: 265921500,
    seeds: 97,
    leeches: 3,
    downloads: 43855,
    comments: 0 },
  { id: 635866,
    href: 'http://www.nyaa.se/?page=download&tid=635866',
    name: 'Bleach Ch.610 : : Mausoleum of Skulls',
    categories: [ 'literature', 'english-translated-literature' ],
    flags: [],
    size: 1678400,
    seeds: 1,
    leeches: 0,
    downloads: 429,
    comments: 0 },
  { id: 635723,
    href: 'http://www.nyaa.se/?page=download&tid=635723',
    name: '[MegaBeast_Empire] Tokusou Robo Janperson 06',
    categories: [ 'live-action', 'english-translated-live-action' ],
    flags: [],
    size: 297601300,
    seeds: 7,
    leeches: 0,
    downloads: 442,
    comments: 0 },
  { id: 635568,
    href: 'http://www.nyaa.se/?page=download&tid=635568',
    name: '[AnimeRG] Shigatsu wa Kimi no Uso Ch.029 Lair [NR].pdf',
    categories: [ 'literature', 'english-translated-literature' ],
    flags: [],
    size: 46051100,
    seeds: 0,
    leeches: 0,
    downloads: 376,
    comments: 1 },
  { id: 635529,
    href: 'http://www.nyaa.se/?page=download&tid=635529',
    name: '[Ohys-Raws] Busou Shinki (BD 1280x720 x264 AAC)',
    categories: [ 'anime', 'raw-anime' ],
    flags: [],
    size: 4704120000,
    seeds: 13,
    leeches: 9,
    downloads: 3544,
    comments: 0 },
  { id: 635108,
    href: 'http://www.nyaa.se/?page=download&tid=635108',
    name: '[Kuusou] Inou Battle wa Nichijou-kei no Naka de - 11 [856AB090].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 314804900,
    seeds: 21,
    leeches: 1,
    downloads: 2547,
    comments: 6 },
  { id: 635059,
    href: 'http://www.nyaa.se/?page=download&tid=635059',
    name: '[AoT] Shigatsu wa Kimi no Uso - 10 [480p] [Spanish sub]',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 105004900,
    seeds: 1,
    leeches: 0,
    downloads: 142,
    comments: 0 },
  { id: 635058,
    href: 'http://www.nyaa.se/?page=download&tid=635058',
    name: '[AoT] Shigatsu wa Kimi no Uso - 10 [720p] [Spanish sub]',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 315119600,
    seeds: 1,
    leeches: 0,
    downloads: 195,
    comments: 0 },
  { id: 634642,
    href: 'http://www.nyaa.se/?page=download&tid=634642',
    name: '[Ñ] Shigatsu wa Kimi no Uso - 10 [720p] [66331B65].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 351100300,
    seeds: 3,
    leeches: 0,
    downloads: 163,
    comments: 0 },
  { id: 634602,
    href: 'http://www.nyaa.se/?page=download&tid=634602',
    name: '[Akai] Byousoku 5 centimeter [BD 1080p Hi10p AAC]',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [],
    size: 2319840000,
    seeds: 1,
    leeches: 0,
    downloads: 272,
    comments: 0 },
  { id: 634598,
    href: 'http://www.nyaa.se/?page=download&tid=634598',
    name: '[Akai] Byousoku 5 centimeter [BD 720p Hi444PP AAC]',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [],
    size: 1460640000,
    seeds: 3,
    leeches: 0,
    downloads: 231,
    comments: 0 },
  { id: 634316,
    href: 'http://www.nyaa.se/?page=download&tid=634316',
    name: '[Zensub&Aiasub] Shigatsu wa Kimi no Uso - 07 [E01CD3E1].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 161441100,
    seeds: 0,
    leeches: 0,
    downloads: 117,
    comments: 0 },
  { id: 634315,
    href: 'http://www.nyaa.se/?page=download&tid=634315',
    name: '[Zensub&Aiasub] Shigatsu wa Kimi no Uso - 06 [453E4E66].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 194904200,
    seeds: 0,
    leeches: 0,
    downloads: 128,
    comments: 0 },
  { id: 634290,
    href: 'http://www.nyaa.se/?page=download&tid=634290',
    name: '[A&A] Shigatsu wa Kimi no Uso - Ep. 10 - La scena che condividiamo (Jap sub Ita).mp4',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 189344500,
    seeds: 1,
    leeches: 0,
    downloads: 123,
    comments: 0 },
  { id: 634289,
    href: 'http://www.nyaa.se/?page=download&tid=634289',
    name: '[A&A] Shigatsu wa Kimi no Uso - Ep. 10 - La scena che condividiamo (Jap sub Ita).mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 227108500,
    seeds: 1,
    leeches: 0,
    downloads: 130,
    comments: 0 },
  { id: 634194,
    href: 'http://www.nyaa.se/?page=download&tid=634194',
    name: '[Tenkai] Shigatsu wa Kimi no Uso - 10 [720p HEVC].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [],
    size: 162280300,
    seeds: 1,
    leeches: 0,
    downloads: 206,
    comments: 0 },
  { id: 634189,
    href: 'http://www.nyaa.se/?page=download&tid=634189',
    name: '[Akindo-SSK] Shigatsu wa Kimi no Uso - 10 [TV][720p][Sub_ITA][1D414B9B].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 330225200,
    seeds: 28,
    leeches: 0,
    downloads: 549,
    comments: 0 },
  { id: 634048,
    href: 'http://www.nyaa.se/?page=download&tid=634048',
    name: '[J.X][Shigatsu wa Kimi no Uso][10][GB][1280x720].mp4',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 146755100,
    seeds: 0,
    leeches: 0,
    downloads: 168,
    comments: 0 },
  { id: 634047,
    href: 'http://www.nyaa.se/?page=download&tid=634047',
    name: '[J.X][Shigatsu wa Kimi no Uso][10][BIG5][1280x720].mp4',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 146860000,
    seeds: 2,
    leeches: 2,
    downloads: 273,
    comments: 0 },
  { id: 633962,
    href: 'http://www.nyaa.se/?page=download&tid=633962',
    name: '[FTF] Busou Shinki Moon Angel - Complete [BD 1920x1080 x264 Hi10p AAC].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 694857600,
    seeds: 2,
    leeches: 1,
    downloads: 36,
    comments: 0 },
  { id: 633918,
    href: 'http://www.nyaa.se/?page=download&tid=633918',
    name: '[aprm-Diogo4D] Shigatsu wa Kimi no Uso 10 [89AE5B2F].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 242214100,
    seeds: 1,
    leeches: 0,
    downloads: 396,
    comments: 0 },
  { id: 633848,
    href: 'http://www.nyaa.se/?page=download&tid=633848',
    name: 'Shigatsu wa Kimi no Uso - 10 (1280x720 HEVC AAC).mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'remake' ],
    size: 184833800,
    seeds: 1,
    leeches: 0,
    downloads: 222,
    comments: 0 },
  { id: 633753,
    href: 'http://www.nyaa.se/?page=download&tid=633753',
    name: '[Scales] Shigatsu wa Kimi no Uso - 10 [513F8409].mp4',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'remake' ],
    size: 140566000,
    seeds: 3,
    leeches: 0,
    downloads: 282,
    comments: 0 },
  { id: 633752,
    href: 'http://www.nyaa.se/?page=download&tid=633752',
    name: '[RightShiftBy2] Shigatsu wa Kimi no Uso - 10 [720p][2151262E].mp4',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'remake' ],
    size: 240850400,
    seeds: 1,
    leeches: 1,
    downloads: 273,
    comments: 0 },
  { id: 633704,
    href: 'http://www.nyaa.se/?page=download&tid=633704',
    name: '[DeadFish] Shigatsu wa Kimi no Uso - 10 [720p][AAC].mp4',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'remake' ],
    size: 218192000,
    seeds: 16,
    leeches: 2,
    downloads: 2301,
    comments: 0 },
  { id: 633676,
    href: 'http://www.nyaa.se/?page=download&tid=633676',
    name: '[Commie] Shigatsu wa Kimi no Uso - 10 [98649630].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'aplus' ],
    size: 228157500,
    seeds: 97,
    leeches: 3,
    downloads: 9947,
    comments: 10 },
  { id: 633635,
    href: 'http://www.nyaa.se/?page=download&tid=633635',
    name: '[A-GX] Shigatsu wa Kimi no Uso - 10 [EA242D03].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 328441900,
    seeds: 6,
    leeches: 0,
    downloads: 291,
    comments: 0 },
  { id: 633609,
    href: 'http://www.nyaa.se/?page=download&tid=633609',
    name: '[BakedFish] Shigatsu wa Kimi no Uso - 10 [720p][AAC].mp4',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'remake' ],
    size: 188085700,
    seeds: 6,
    leeches: 1,
    downloads: 1038,
    comments: 0 },
  { id: 633579,
    href: 'http://www.nyaa.se/?page=download&tid=633579',
    name: '[PuyaSubs!] Shigatsu wa Kimi no Uso - 10 [720p][F7DFD5CE].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 327602700,
    seeds: 13,
    leeches: 0,
    downloads: 1190,
    comments: 1 },
  { id: 633577,
    href: 'http://www.nyaa.se/?page=download&tid=633577',
    name: '[HorribleSubs] Shigatsu wa Kimi no Uso - 10 [1080p].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 548731900,
    seeds: 115,
    leeches: 2,
    downloads: 11212,
    comments: 0 },
  { id: 633573,
    href: 'http://www.nyaa.se/?page=download&tid=633573',
    name: '[HorribleSubs] Shigatsu wa Kimi no Uso - 10 [720p].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 327707600,
    seeds: 287,
    leeches: 9,
    downloads: 27461,
    comments: 5 },
  { id: 633572,
    href: 'http://www.nyaa.se/?page=download&tid=633572',
    name: '[HorribleSubs] Shigatsu wa Kimi no Uso - 10 [480p].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 148748200,
    seeds: 52,
    leeches: 1,
    downloads: 8382,
    comments: 0 },
  { id: 633541,
    href: 'http://www.nyaa.se/?page=download&tid=633541',
    name: '[Ohys-Raws] Shigatsu wa Kimi no Uso - 10 (CX 1280x720 x264 AAC).mp4',
    categories: [ 'anime', 'raw-anime' ],
    flags: [],
    size: 264662700,
    seeds: 124,
    leeches: 6,
    downloads: 22023,
    comments: 0 },
  { id: 633118,
    href: 'http://www.nyaa.se/?page=download&tid=633118',
    name: '[AnimeRG] Shigatsu wa Kimi no Uso Ch.028 Footprints [NR].pdf',
    categories: [ 'literature', 'english-translated-literature' ],
    flags: [],
    size: 39966900,
    seeds: 1,
    leeches: 0,
    downloads: 410,
    comments: 0 },
  { id: 633020,
    href: 'http://www.nyaa.se/?page=download&tid=633020',
    name: '[AoT] Shigatsu wa Kimi no Uso - 09 [480p] [Spanish sub]',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 105004900,
    seeds: 1,
    leeches: 0,
    downloads: 198,
    comments: 0 },
  { id: 633019,
    href: 'http://www.nyaa.se/?page=download&tid=633019',
    name: '[AoT] Shigatsu wa Kimi no Uso - 09 [720p] [Spanish sub]',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 315014700,
    seeds: 1,
    leeches: 0,
    downloads: 253,
    comments: 0 },
  { id: 632957,
    href: 'http://www.nyaa.se/?page=download&tid=632957',
    name: '[ASL]_Various_Artists_-_Shigatsu_wa_Kimi_no_Uso_Boku_to_Kimi_to_no_Ongakuchou_[MP3]_[w_Scans].rar',
    categories: [ 'audio', 'lossy-audio' ],
    flags: [ 'trusted' ],
    size: 174343800,
    seeds: 12,
    leeches: 0,
    downloads: 1432,
    comments: 0 },
  { id: 632956,
    href: 'http://www.nyaa.se/?page=download&tid=632956',
    name: '[ASL]_Various_Artists_-_Shigatsu_wa_Kimi_no_Uso_Boku_to_Kimi_to_no_Ongakuchou_[FLAC]_[w_Scans].rar',
    categories: [ 'audio', 'lossless-audio' ],
    flags: [ 'trusted' ],
    size: 365261800,
    seeds: 18,
    leeches: 0,
    downloads: 2202,
    comments: 1 },
  { id: 632931,
    href: 'http://www.nyaa.se/?page=download&tid=632931',
    name: '[MegaBeast Empire] Tokusou Robo Janperson 05',
    categories: [ 'live-action', 'english-translated-live-action' ],
    flags: [],
    size: 312706900,
    seeds: 4,
    leeches: 0,
    downloads: 668,
    comments: 0 },
  { id: 632787,
    href: 'http://www.nyaa.se/?page=download&tid=632787',
    name: '[L&C] Kousoku Sentai TurboRanger - Episode 003',
    categories: [ 'live-action', 'english-translated-live-action' ],
    flags: [],
    size: 253123700,
    seeds: 4,
    leeches: 0,
    downloads: 353,
    comments: 0 },
  { id: 632596,
    href: 'http://www.nyaa.se/?page=download&tid=632596',
    name: '[MegaBeast Empire] Tokusou Robo Janperson 04',
    categories: [ 'live-action', 'english-translated-live-action' ],
    flags: [],
    size: 304839400,
    seeds: 2,
    leeches: 0,
    downloads: 765,
    comments: 0 },
  { id: 632524,
    href: 'http://www.nyaa.se/?page=download&tid=632524',
    name: '[Kuusou] Inou Battle wa Nichijou-kei no Naka de - 10 [4B89E6AA].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 319630300,
    seeds: 20,
    leeches: 1,
    downloads: 2701,
    comments: 5 },
  { id: 632207,
    href: 'http://www.nyaa.se/?page=download&tid=632207',
    name: '[aprm-Diogo4D] Shigatsu wa Kimi no Uso 09 [F048E277].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [ 'trusted' ],
    size: 247564000,
    seeds: 0,
    leeches: 0,
    downloads: 435,
    comments: 0 },
  { id: 632036,
    href: 'http://www.nyaa.se/?page=download&tid=632036',
    name: '[Ñ] Shigatsu wa Kimi no Uso - 09 [720p] [EB8AF8C6].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 222492900,
    seeds: 1,
    leeches: 0,
    downloads: 184,
    comments: 0 },
  { id: 631523,
    href: 'http://www.nyaa.se/?page=download&tid=631523',
    name: '[Yukisubs] Shigatsu wa Kimi no Uso - 09 [720p][F0A0DA27].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 235080900,
    seeds: 2,
    leeches: 0,
    downloads: 192,
    comments: 0 },
  { id: 631521,
    href: 'http://www.nyaa.se/?page=download&tid=631521',
    name: '[Yukisubs] Shigatsu wa Kimi no Uso - 09 [480p][1DDA5252].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 69548700,
    seeds: 1,
    leeches: 0,
    downloads: 146,
    comments: 0 },
  { id: 631520,
    href: 'http://www.nyaa.se/?page=download&tid=631520',
    name: '[Yukisubs] Shigatsu wa Kimi no Uso - 08 [720p][8A18965C].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 229940800,
    seeds: 2,
    leeches: 0,
    downloads: 178,
    comments: 0 },
  { id: 631519,
    href: 'http://www.nyaa.se/?page=download&tid=631519',
    name: '[Yukisubs] Shigatsu wa Kimi no Uso - 08 [480p][05288428].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 75318200,
    seeds: 1,
    leeches: 0,
    downloads: 129,
    comments: 0 },
  { id: 631492,
    href: 'http://www.nyaa.se/?page=download&tid=631492',
    name: '[A&A] Shigatsu wa Kimi no Uso - Ep. 9 - Eco (Jap sub Ita).mp4',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 186826900,
    seeds: 1,
    leeches: 0,
    downloads: 165,
    comments: 0 },
  { id: 631490,
    href: 'http://www.nyaa.se/?page=download&tid=631490',
    name: '[A&A] Shigatsu wa Kimi no Uso - Ep. 9 - Eco (Jap sub Ita).mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 232878000,
    seeds: 4,
    leeches: 0,
    downloads: 161,
    comments: 0 },
  { id: 631328,
    href: 'http://www.nyaa.se/?page=download&tid=631328',
    name: 'Nobunaga Kyousoukyoku c005 (v02) [Habanero Scans].zip',
    categories: [ 'literature', 'english-translated-literature' ],
    flags: [],
    size: 18567300,
    seeds: 0,
    leeches: 0,
    downloads: 246,
    comments: 0 },
  { id: 631296,
    href: 'http://www.nyaa.se/?page=download&tid=631296',
    name: '[Tenkai] Shigatsu wa Kimi no Uso - 09v2 [720p HEVC].mkv',
    categories: [ 'anime', 'english-translated-anime' ],
    flags: [],
    size: 269697900,
    seeds: 0,
    leeches: 0,
    downloads: 401,
    comments: 0 },
  { id: 631282,
    href: 'http://www.nyaa.se/?page=download&tid=631282',
    name: '嘘喰い (Usogui) 第34巻',
    categories: [ 'literature', 'raw-literature' ],
    flags: [],
    size: 196897300,
    seeds: 11,
    leeches: 0,
    downloads: 3056,
    comments: 0 },
  { id: 631218,
    href: 'http://www.nyaa.se/?page=download&tid=631218',
    name: '[Akindo-SSK] Shigatsu wa Kimi no Uso - 09 [TV][720p][Sub_ITA][71F1BA6F].mkv',
    categories: [ 'anime', 'non-english-translated-anime' ],
    flags: [],
    size: 330644800,
    seeds: 14,
    leeches: 0,
    downloads: 470,
    comments: 0 } ];
